!function(){function t(e,s,i){function o(n,a){if(!s[n]){if(!e[n]){var r="function"==typeof require&&require;if(!a&&r)return r(n,!0);if(h)return h(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}var c=s[n]={exports:{}};e[n][0].call(c.exports,function(t){var s=e[n][1][t];return o(s||t)},c,c.exports,t,e,s,i)}return s[n].exports}for(var h="function"==typeof require&&require,n=0;n<i.length;n++)o(i[n]);return o}return t}()({1:[function(t,e,s){"use strict";function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(s,"__esModule",{value:!0});var n=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}();/Mobi/.test(navigator.userAgent)&&console.log("Mobile");var a=function(){function t(){h(this,t),this.container=document.getElementById("content"),this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),this.prevUpdateTime=0,this.height=0,this.width=0,this.state=0,this.fontSize=0,this.textPosX=0,this.textPosY=0,this.smallFontSize=30,this.scorePosX=0,this.scorePosY=0,this.livesPosX=0,this.livesPosY=0,this.lives=3,this.score=0,this.SpaceShip={},this.bullets=[],this.asteroids=[],this.bulletSize=2,this.bulletSpeed=5,this.asteroidLimit=10,this.numberOfAsteroidClasses=2,this.smallAsteroidSpeed=1,this.mediumAsteroidSpeed=.5,this.commands={},this.text={newGameText:"New Game",lives:"Lives: "+this.lives,endGameText:"Try Again"},this.init()}return n(t,[{key:"init",value:function(){var t=this;window.addEventListener("resize",function(e){return t.onResize()}),this.canvas.addEventListener("click",function(e){return t.clickHandler(e)}),document.addEventListener("keyup",function(e){return t.keyUpHandler(e)}),document.addEventListener("keydown",function(e){return t.keyDownHandler(e)}),this.onResize(),this.SpaceShip=new l(canvas,3),requestAnimationFrame(function(e){return t.update(e)})}},{key:"clickHandler",value:function(t){if(0==this.state){var e=t.clientX,s=t.clientY;e>this.textPosX&&e<(this.width+this.fontSize*this.text.newGameText.length/2)/2&&s>(this.height-this.fontSize)/2&&s<this.textPosY&&(canvas.style.cursor="none",this.state=1)}else if(1==this.state){var i=this.SpaceShip;this.bullets.push(new c(this.bulletSize,i.posX,i.posY,i.angle,this.bulletSpeed))}else if(2==this.state){var o=t.clientX,h=t.clientY;o>this.textPosX&&o<(this.width+this.fontSize*this.text.newGameText.length/2)/2&&h>(this.height-this.fontSize)/2&&h<this.textPosY&&location.reload()}}},{key:"keyUpHandler",value:function(t){this.commands[t.key]=!1}},{key:"keyDownHandler",value:function(t){this.commands[t.key]=!0}},{key:"onResize",value:function(){this.width=this.container.clientWidth,this.height=this.container.clientHeight,this.fontSize=Math.floor(this.width/10),this.textPosX=(this.width-this.fontSize*this.text.newGameText.length/2-20)/2,this.textPosY=(this.height+this.fontSize)/2,this.scorePosX=10,this.scorePosY=this.smallFontSize,this.livesPosX=this.width-this.text.lives.length*this.smallFontSize/2,this.livesPosY=this.smallFontSize,this.canvas.width=this.width,this.canvas.height=this.height}},{key:"update",value:function(t){var e=this;t-this.prevUpdateTime;this.prevUpdateTime=t,this.lives>0?(this.draw(),this.gameLoop()):this.draw(),requestAnimationFrame(function(t){return e.update(t)})}},{key:"gameLoop",value:function(){var t=this.SpaceShip;if(1!=this.commands.w&&1!=this.commands.ArrowUp||(t.posX=t.posX+t.speed*Math.cos(t.angle),t.posY=t.posY+t.speed*Math.sin(t.angle)),1!=this.commands.s&&1!=this.commands.ArrowDown||(t.posX=t.posX+t.speed*Math.cos(-t.angle),t.posY=t.posY+t.speed*Math.sin(-t.angle)),1!=this.commands.a&&1!=this.commands.ArrowLeft||(t.angle-=t.degToRad(5)),1!=this.commands.d&&1!=this.commands.ArrowRight||(t.angle+=t.degToRad(5)),this.asteroids.length<this.asteroidLimit){var e=Math.floor(Math.random()*this.numberOfAsteroidClasses*4),s=void 0;s=e>4?new d(this.canvas,this.smallAsteroidSpeed):new u(this.canvas,this.mediumAsteroidSpeed),this.asteroids.push(s)}this.checkBounds(t);for(var i=0;i<this.asteroids.length;i++)this.asteroids[i].posX=this.asteroids[i].posX+this.asteroids[i].speed*Math.cos(this.asteroids[i].angle),this.asteroids[i].posY=this.asteroids[i].posY+this.asteroids[i].speed*Math.sin(this.asteroids[i].angle),this.checkBounds(this.asteroids[i]);for(var o=0;o<this.bullets.length;o++)this.bullets[o].posX=this.bullets[o].posX+this.bullets[o].speed*Math.cos(this.bullets[o].angle),this.bullets[o].posY=this.bullets[o].posY+this.bullets[o].speed*Math.sin(this.bullets[o].angle),(this.bullets[o].posX>this.width||this.bullets[o].posX<0||this.bullets[o].posY<0||this.bullets.posY>this.height)&&this.bullets.splice(o,1);this.checkCollision()}},{key:"checkBounds",value:function(t){t.posX>canvas.width&&(t.posX=1),t.posX<0&&(t.posX=canvas.width-1),t.posY<0&&(t.posY=canvas.height-1),t.posY>canvas.height&&(t.posY=1)}},{key:"checkCollision",value:function(){for(var t=this.asteroids,e=this.SpaceShip,s=this.bullets,i=0;i<t.length;i++){var o=t[i].posX-e.posX,h=t[i].posY-e.posY,n=Math.sqrt(o*o+h*h);n<t[i].size+e.size&&(this.lives--,this.text.lives="Lives: "+this.lives,0==this.lives&&(this.state=2),e.posX=canvas.width/2,e.posY=canvas.height/2)}for(var a=0;a<t.length;a++)for(var r=0;r<s.length;r++){var l=t[a].posX-s[r].posX,c=t[a].posY-s[r].posY,d=Math.sqrt(l*l+c*c);if(d<t[a].size+s[r].size){if(s.splice(r,1),this.score+=t[a].price,"medium"==t[a].name){var p=new u(this.canvas,this.smallAsteroidSpeed);p.posX=t[a].posX+t[a].size*Math.cos(t[a].angle),p.posY=t[a].posY+t[a].size*Math.sin(t[a].angle),p.angle=t[a].angle;var f=new u(this.canvas,this.smallAsteroidSpeed);f.posX=t[a].posX+t[a].size*Math.cos(t[a].angle),f.posY=t[a].posY+t[a].size*Math.sin(t[a].angle),f.angle=-t[a].angle,t.push(p),t.push(f)}return void t.splice(a,1)}}}},{key:"draw",value:function(){switch(this.ctx.clearRect(0,0,canvas.width,canvas.height),this.state){case 0:this.drawText("New Game",this.textPosX,this.textPosY,this.fontSize);break;case 1:this.drawText(this.score,this.scorePosX,this.scorePosY,this.smallFontSize),this.drawText(this.text.lives,this.livesPosX,this.livesPosY,this.smallFontSize),this.drawSpaceShip(),this.drawBullets(),this.drawAsteroids();break;case 2:this.canvas.style.cursor="auto",this.drawText("Your score is "+this.score,this.textPosX-canvas.width/8,this.textPosY-this.fontSize,this.fontSize),this.drawText(this.text.endGameText,this.textPosX,this.textPosY,this.fontSize)}}},{key:"drawText",value:function(t,e,s,i){this.ctx.font=i+"px Aria",this.ctx.imageSmoothingEnabled=!0,this.ctx.fillStyle="#FFFFFF",this.ctx.fillText(t,e,s)}},{key:"drawSpaceShip",value:function(){var t=void 0,e=void 0,s=0,i=this.SpaceShip;for(this.ctx.beginPath(),t=i.rotX(i.shape[s].x,i.shape[s].y,i.angle)+i.posX,e=i.rotY(i.shape[s].x,i.shape[s].y,i.angle)+i.posY,this.ctx.moveTo(t,e),s=1;s<i.shape.length;s++)t=i.rotX(i.shape[s].x,i.shape[s].y,i.angle)+i.posX,e=i.rotY(i.shape[s].x,i.shape[s].y,i.angle)+i.posY,this.ctx.lineTo(t,e);this.ctx.closePath(),this.ctx.stroke(),this.ctx.fillStyle=i.color,this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()}},{key:"drawBullets",value:function(){for(var t=this.bullets,e=0;e<t.length;e++)this.ctx.beginPath(),this.ctx.arc(t[e].posX,t[e].posY,t[e].size,0,2*Math.PI),this.ctx.fillStyle=t[e].color,this.ctx.fill(),this.ctx.closePath()}},{key:"drawAsteroids",value:function(){for(var t=this.asteroids,e=0;e<t.length;e++){this.ctx.beginPath(),this.ctx.moveTo(t[e].posX+t[e].size*Math.cos(0),t[e].posY+t[e].size*Math.sin(0));for(var s=1;s<=t[e].numberOfSides;s+=1)this.ctx.lineTo(t[e].posX+t[e].size*Math.cos(2*s*Math.PI/t[e].numberOfSides),t[e].posY+t[e].size*Math.sin(2*s*Math.PI/t[e].numberOfSides));this.ctx.strokeStyle="#FFFFFF",this.ctx.lineWidth=2,this.ctx.stroke()}}}]),t}();s["default"]=a;var r=function(){function t(e,s,i,o,n){h(this,t),this.size=e,this.posX=s,this.posY=i,this.angle=0==o?Math.floor(Math.random()*Math.floor(this.degToRad(360))):o,this.speed=n}return n(t,[{key:"degToRad",value:function(t){return 3.1415926*t/180}}]),t}(),l=function(t){function e(t,s){h(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.height/60,t.width/2,t.height/2,0,s));return o.color="White",o.shape=[{x:t.height/60,y:0},{x:-t.height/60,y:-t.height/80},{x:-t.height/80,y:0},{x:-t.height/60,y:t.height/80}],o}return o(e,t),n(e,[{key:"rotX",value:function(t,e,s){return t*Math.cos(s)-e*Math.sin(s)}},{key:"rotY",value:function(t,e,s){return t*Math.sin(s)+e*Math.cos(s)}}]),e}(r),c=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,s=arguments[1],o=arguments[2],n=arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;h(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,s,o,n,a));return r.color="Red",r}return o(e,t),e}(r),u=function(t){function e(t,s){h(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.width/80,Math.floor(Math.random()*Math.floor(t.width/3)),Math.floor(Math.random()*Math.floor(t.height/3)),0,s));return o.numberOfSides=6,o.name="small",o.price=100,o}return o(e,t),e}(r),d=function(t){function e(t,s){h(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.width/40,Math.floor(Math.random()*Math.floor(t.width/3)),Math.floor(Math.random()*Math.floor(t.height/3)),0,s));return o.numberOfSides=8,o.name="medium",o.price=400,o}return o(e,t),e}(r);new a},{}]},{},[1]);